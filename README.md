# CnInfoReports

## 功能

从巨潮资讯网批量下载A股，港股上市公司定期报告

## 使用

依赖requests库

修改 CnInfoReports.py 文件底部两行，其中：

第一行实例化类CnInfoReports，可选传入2个参数，分别为请求的cookies和headers，或者直接修改类的代码

第二行调用crawl方法，必填参数证券代码（多个请用英文逗号隔开），选填参数查询期间，默认为2000-01-01至今，格式为'2000-01-01~2021-05-02'

下载的报告在data文件夹下，按照证券代码分类

## 注意事项

A股定期报告包括摘要和正文的报告（如有），如果不要的话，可以尝试修改，通过关键词检测跳过该类的下载。

港股定期报告没有明确的tag可供查询，所以由关键词检测来实现下载，由于有些含有'年度报告'字样的报告可能是预告之类的，报告名称含有关键字但是名称过长的(len>15)会跳过下载，同时会有提示。

## 下一步工作

- [x] 使用多线程
- [ ] 使用 requests 的替代品
- [ ] 使用异步请求
- [ ] 更好处理撤回和更新的定期报告

## 感谢

[xfeng2020/cninf_reports](https://github.com/xfeng2020/cninf_reports)

 
